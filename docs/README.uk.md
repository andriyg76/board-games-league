# Індекс документації

## Керування сесіями та обліковими записами

- **[SESSION_MANAGEMENT.uk.md](SESSION_MANAGEMENT.uk.md)** - Повний посібник системи керування сесіями, включаючи:
  - Огляд архітектури
  - Система токенів (токени обертання та токени дії)
  - Документація компонентів
  - Конфігурація
  - Приклади використання
  - Функції безпеки
  - Усунення проблем

- **[API_REFERENCE.uk.md](API_REFERENCE.uk.md)** - Повна документація API:
  - Точки доступу аутентифікації
  - Користувацькі точки доступу
  - Адміністративні точки доступу
  - Формати запитів/відповідей
  - Коди помилок
  - Потік аутентифікації

## Ключові функції

### Керування сесіями
- Гібридна система токенів (токени обертання + токени дії)
- Автоматичне обертання токенів кожні 12 годин
- Відстеження сесій з IP адресою та user agent
- Інтеграція геолокації
- Множинні одночасні сесії на користувача

### Безпека
- HTTP-only cookies для токенів дії
- Налаштування Secure, SameSite для cookies
- Завершення терміну дії та обертання токенів
- Завершення терміну дії сесій (30 днів)
- Оптимістичне блокування для конкурентності

### Діагностика
- Точка доступу діагностики тільки для адмінів
- Інформація про запити (IP, походження, user agent)
- Дані геолокації
- Відображення конфігурації сервера
- Валідація довірених джерел

### Функції користувача
- Відображення інформації про сесії
- Список активних сесій
- Індикатор поточної сесії
- Відображення географічного місцезнаходження
- Відстеження активності сесій

## Початок роботи

1. Налаштуйте змінні середовища (див. [SESSION_MANAGEMENT.uk.md](SESSION_MANAGEMENT.uk.md#конфігурація))
2. Налаштуйте підключення до MongoDB
3. Налаштуйте облікові дані Google OAuth
4. Встановіть зовнішні ID супер-адміністраторів
5. (Опціонально) Налаштуйте довірені джерела

## Огляд архітектури

```
┌─────────────┐
│   Клієнт    │
│  (Браузер)  │
└──────┬──────┘
       │
       │ HTTP запити
       │ (cookie actionToken)
       │
┌──────▼──────────┐
│   Backend API   │
│  (Go/Chi Router)│
└──────┬──────────┘
       │
       ├──────────┐
       │          │
┌──────▼──────┐  │  ┌──────────────┐
│   MongoDB   │  │  │  GeoIP API   │
│  (Sessions) │  │  │  (ipapi.co)  │
└─────────────┘  │  └──────────────┘
                 │
       ┌─────────┘
       │
┌──────▼──────┐
│   Сервіси   │
│  - Session  │
│  - Request  │
│  - GeoIP    │
└─────────────┘
```

## Пов'язана документація

- Backend код: `backend/`
- Frontend код: `frontend/`
- Конфігурація: Змінні середовища
- База даних: Колекції та індекси MongoDB
